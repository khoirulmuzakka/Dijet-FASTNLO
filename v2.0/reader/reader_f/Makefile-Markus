#######################################################
#
#     Makefile for fastNLO usercode  v2.0
#
#######################################################


# MW's laptop
CERNLIB=/usr/lib/cernlib/2005/lib
LHAPDF=/usr/local/lib



MAINEX=example.f
MAINREF=example-ref.f

FFILES= fnx9999.f fnset.f fn-alphas-demo.f fn-interface.f fx9999rw.f fnio.f



FFLAGS= -O -fno-automatic -ffixed-line-length-132

# --- use -pg   for "gprof"
#FFLAGS= -O -fno-automatic -ffixed-line-length-132 -pg

# FC=g77make
# FC=gfortran
FC=f95 

SRCFILES = $(MAINEX) $(FFILES) 
OBJFILES = $(MAINEX:.f=.o) $(FFILES:.f=.o)

SRCFILESREF = $(MAINREF) $(FFILES) 
OBJFILESREF = $(MAINREF:.f=.o) $(FFILES:.f=.o)

example: $(OBJFILES)
	 $(FC) -o $@ $(FFLAGS) $(OBJFILES) \
	-L $(LHAPDF) -lLHAPDF 

example-ref: $(OBJFILESREF)
	 $(FC) -o $@ $(FFLAGS) $(OBJFILESREF) \
	-L $(LHAPDF) -lLHAPDF 

#	-l/usr/local/lib/libLHAPDF.a
#	-L $(CERNLIB) -lmathlib -lpacklib -lkernlib

cln:
	'rm' -f *.o
	'rm' -f *.so

clean:
	'rm' -f *.o
	'rm' -f *.so
